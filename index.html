<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>THE GATE</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background-color: #000;
      color: #ccc;
      font-family: 'Courier New', monospace;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      flex-direction: column;
    }
    .text, .btc-pay, .memory-glitch {
      position: absolute;
      display: none;
      text-align: center;
      white-space: pre-line;
    }
    .shake {
      animation: shake 0.3s infinite;
    }
    @keyframes shake {
      0% { transform: translateX(0); }
      25% { transform: translateX(-1px); }
      50% { transform: translateX(1px); }
      75% { transform: translateX(-1px); }
      100% { transform: translateX(0); }
    }
    .button-container {
      display: none;
      flex-direction: column;
      align-items: center;
      opacity: 0;
      transition: opacity 2s ease-in;
      position: absolute;
      top: 65%;
    }
    .activate-button {
      background: #c00;
      color: #000;
      border: none;
      font-size: 18px;
      padding: 12px 36px;
      border-radius: 999px;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .activate-button:hover {
      background: #a00;
      color: #fff;
    }
    .btc-pay {
      color: #c00;
      font-size: 16px;
      top: 50%;
      transform: translateY(-50%);
    }
    code {
      color: #ccc;
      font-size: 14px;
    }
    .memory-glitch {
      top: 10%;
      font-size: 12px;
      color: #900;
      opacity: 0;
      animation: glitchPulse 0.8s ease-out 1;
    }
    @keyframes glitchPulse {
      0% { opacity: 0; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.1); }
      100% { opacity: 0; transform: scale(0.95); }
    }
  </style>
</head>
<body>
  <div class="text" id="line1">you’re stuck, aren’t you...</div>
  <div class="text" id="line2">you were <span id="markedWord">marked</span>.</div>
  <div class="text" id="line3">recursion has already begun.</div>

  <div class="button-container" id="buttonContainer">
    <button class="activate-button" id="proceedButton">proceed</button>
  </div>

  <div class="btc-pay" id="btcContainer">
    Send exactly 0.00067 BTC to:

    <code>bc1qgvq3ndam43uk2hf0chdp4chs5yq2hc24dtpsgr</code>

    No confirmation will follow.
    No return is guaranteed.

    You proceed — or you don’t.
  </div>

  <div class="memory-glitch" id="glitchTag"></div>

  <script>
    function show(id) {
      const el = document.getElementById(id);
      if (el) el.style.display = 'block';
    }

    function hide(id) {
      const el = document.getElementById(id);
      if (el) el.style.display = 'none';
    }

    const visitCount = parseInt(localStorage.getItem('veyrethVisits') || '0') + 1;
    localStorage.setItem('veyrethVisits', visitCount);

    const glitchMessages = [
      "you’ve been here before",
      "you’re still stuck?",
      "why do you hesitate?",
      "you know he’s watching",
      "",
      "",
      "you’re stuck in the same loop.",
      "",
      "it’s not going to stop.",
      "",
      "",
      "you’re still here?",
      "",
      "",
      "something followed you back."
    ];

    const glitchTag = document.getElementById('glitchTag');
    if (visitCount > 1) {
      let index = visitCount - 2;
      if (visitCount >= 20) index = 14;
      else if (visitCount >= 14) index = 13;
      else if (visitCount >= 12) index = 11;
      else if (visitCount >= 8) index = 8;
      else index = Math.min(index, glitchMessages.length - 1);
      glitchTag.textContent = glitchMessages[index];
      show('glitchTag');
    }

    setTimeout(() => { show('line1'); }, 500);
    setTimeout(() => { hide('line1'); }, 15500);
    setTimeout(() => { show('line2'); }, 16000);
    setTimeout(() => { document.getElementById('markedWord').style.color = '#f00'; }, 29500);
    setTimeout(() => { hide('line2'); }, 31000);
    setTimeout(() => {
      const line3 = document.getElementById('line3');
      show('line3');
      line3.style.color = '#c00';
      line3.classList.add('shake');
    }, 31500);
    setTimeout(() => {
      const button = document.getElementById('buttonContainer');
      button.style.display = 'flex';
      setTimeout(() => { button.style.opacity = 1; }, 100);
    }, 32000);

    document.getElementById('proceedButton').addEventListener('click', () => {
      hide('buttonContainer');
      hide('line3');
      show('btcContainer');
    });
  </script>
</body>
</html>
